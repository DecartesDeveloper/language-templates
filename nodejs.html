<section name="nodejs">
  <p class="ioDesc">In</p>
  <pre class="incoming brush:js">
var request = require("request");
<% if @method is "GET" : %>
request("<%= @apiUrl %><%= @url %>", function (error, response, body) {
<% else : %>
request({
  url: "<%= @apiUrl %><%= @url %>",<% if @body: %>
  body: <%= @helpers.escape @body %>,<% end %><% if @headers.length: %>
  headers: {<%= ['"'+header[0]+'": "'+header[1]+'"' for header in @headers].join(", ") %>}, <% end %>
  method: "<%= @method.toUpperCase() %>"
}, function (error, response, body) {
<% end %>  console.log("Reponse received", response);
});

</section>
